{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TextInput=_ref=>{let{onSubmit,className}=_ref;const[text,setText]=useState('');const[result,setResult]=useState(null);const renderFormattedResult=()=>{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"Headers\",children:\"Word Count Results:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"Results\",children:[\"Word count: \",result['Word count']]}),/*#__PURE__*/_jsxs(\"p\",{className:\"Results\",children:[\"Average word length: \",result['Average word length']]}),/*#__PURE__*/_jsx(\"p\",{className:\"Results\",children:\"Number of words of length:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"Results_List\",children:Object.entries(result['Number of words of length']).map(_ref2=>{let[key,value]=_ref2;return/*#__PURE__*/_jsx(\"li\",{children:\"\".concat(key,\": \").concat(value)},key);})}),/*#__PURE__*/_jsxs(\"p\",{className:\"Results\",children:[\"The most frequently occurring word length is (\",result['The most frequently occurring word length is'],\")\",' ',\"for word lengths of: (\",result['The most frequently occurring word length is'],\")\"]})]});};const handleChange=async newText=>{setText(newText);try{const response=await axios.post('http://localhost:5000/count-words',{file:newText});setResult(response.data);onSubmit(response.data);// Pass the result to the parent component\n}catch(error){console.error('Error counting words:',error);}};const handleDrop=async event=>{event.preventDefault();const file=event.dataTransfer.files[0];if(file){const reader=new FileReader();reader.onload=e=>{const fileContent=e.target.result;setText(fileContent);handleChange(fileContent);};reader.readAsText(file);}};return/*#__PURE__*/_jsxs(\"div\",{onDrop:handleDrop,onDragOver:e=>e.preventDefault(),children:[/*#__PURE__*/_jsx(\"textarea\",{value:text,onChange:e=>handleChange(e.target.value),placeholder:\"Feed me words... with your keyboard... or throw your .txt file at me...\",className:className// Set className for styling\n}),/*#__PURE__*/_jsx(\"br\",{}),result&&renderFormattedResult()]});};export default TextInput;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","TextInput","_ref","onSubmit","className","text","setText","result","setResult","renderFormattedResult","children","Object","entries","map","_ref2","key","value","concat","handleChange","newText","response","post","file","data","error","console","handleDrop","event","preventDefault","dataTransfer","files","reader","FileReader","onload","e","fileContent","target","readAsText","onDrop","onDragOver","onChange","placeholder"],"sources":["C:/Python_Tools/React_Words/react-wordcount/src/TextInput.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst TextInput = ({ onSubmit, className }) => {\r\n  const [text, setText] = useState('');\r\n  const [result, setResult] = useState(null);\r\n\r\n  const renderFormattedResult = () => {\r\n    return (\r\n      <div>\r\n        <h2 className='Headers'>Word Count Results:</h2>\r\n        <p className='Results'>Word count: {result['Word count']}</p>\r\n        <p className='Results'>Average word length: {result['Average word length']}</p>\r\n        <p className='Results'>Number of words of length:</p>\r\n        <ul className='Results_List'>\r\n          {Object.entries(result['Number of words of length']).map(([key, value]) => (\r\n            <li key={key}>{`${key}: ${value}`}</li>\r\n          ))}\r\n        </ul>\r\n        <p className='Results'>\r\n          The most frequently occurring word length is ({result['The most frequently occurring word length is']}){' '}\r\n          for word lengths of: ({result['The most frequently occurring word length is']})\r\n        </p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleChange = async (newText) => {\r\n    setText(newText);\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/count-words', { file: newText });\r\n      setResult(response.data);\r\n      onSubmit(response.data); // Pass the result to the parent component\r\n    } catch (error) {\r\n      console.error('Error counting words:', error);\r\n    }\r\n  };\r\n\r\n  const handleDrop = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const file = event.dataTransfer.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        const fileContent = e.target.result;\r\n        setText(fileContent);\r\n        handleChange(fileContent);\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div onDrop={handleDrop} onDragOver={(e) => e.preventDefault()}>\r\n      <textarea\r\n        value={text}\r\n        onChange={(e) => handleChange(e.target.value)}\r\n        placeholder=\"Feed me words... with your keyboard... or throw your .txt file at me...\"\r\n        className={className} // Set className for styling\r\n      />\r\n      <br />\r\n\r\n      {result && renderFormattedResult()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextInput;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}